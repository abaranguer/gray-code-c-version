Encoding/decoding functions for gray codes (minimal distance codes). C version.